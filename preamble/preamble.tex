
\usepackage[frenchb]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lipsum}
\usepackage{graphicx}
\usepackage[left=3.5cm, right=2cm, top=2cm, bottom=2.5cm]{geometry}
\usepackage{listings}
\usepackage[hidelinks]{hyperref}
\usepackage{amsmath,amsfonts,amssymb}
\usepackage{tikz}
\usepackage{shorttoc}
\usepackage{makeidx}
\usepackage[nopostdot,nonumberlist,toc]{glossaries}
\usepackage{nomencl}
\usepackage{tabularx}
 \usepackage{ifthen}
\usepackage[Lenny]{fncychap}

\author{Mathieu SOUM}

\makeatletter
\let\thetitle\@title
\let\theauthor\@author
\makeatother

\newcommand{\bigtitle}{Développement, amélioration et intégration d'outils de génération de code embarqué}
\newcommand{\shorttitle}{pour une plateforme de prototypage rapide fonctions de contrôle moteur}
\newcommand{\tuteur}{Sébastien RICHE}
\newcommand{\encadrant}{Isabelle FERRAN\'E}
\newcommand{\coverfoot}{Master 2 -- Développement Logiciel / 2014 - 2015}

\newcommand{\coverpage}[1]{%
\newgeometry{top=2cm,left=2cm,bottom=2cm,right=1cm}
\begin{titlepage}
\parindent=0pt
\begin{tabular}[h]{l@{ : }l}
  Tuteur & \tuteur \\
  Encadrant & \encadrant
\end{tabular}
\ifthenelse{\equal{#1}{cover}}%
{\vspace{1.5cm}}%
{\vspace{3.5cm}}
\begin{center}
\ifthenelse{\equal{#1}{cover}}
{
  \includegraphics[scale=0.9]{images/aboard.png}%
}{}
\end{center}
\vspace{2cm}
\hrulefill
\begin{center}\bfseries\Huge
  \bigtitle
\end{center}
\hrulefill
\begin{center}\bfseries\Large
  \shorttitle
\end{center}
\vspace*{0.5cm}
\begin{center}\bfseries\Large
  \theauthor
\end{center}
\vspace*{0.2cm}
\begin{center}\bfseries
  Stage du 3 novembre 2014 au 31 juillet 2015\\Chez Aboard Engineering
\end{center}
\vfill
\ifthenelse{\equal{#1}{cover}}
{
\begin{tabular}[h]{m{4.5cm}m{5.7cm}m{5.7cm}}
\includegraphics[scale=0.45]{images/aboard.png} &
\includegraphics[scale=0.55]{images/ups.png} &
\includegraphics[scale=0.20]{images/mdl.png} \\
\end{tabular}
\vspace{1.2cm}
}{}
\begin{flushright}
  \coverfoot
\end{flushright}
\end{titlepage}
\restoregeometry
}

\makeindex

%\fancyhead[RE]{\rightmark}
%\fancyhead[LO]{\leftmark}
%\fancyhead[RO,LE]{}
%\fancyfoot[LE,RO]{\thepage}
%\fancyfoot[C]{}

\usepackage{fancyhdr}%pour les en-têtes et pieds de pages
        \setlength{\headheight}{14.2pt}% hauteur de l'en-tête
%%%%%%%%%%%%%%%%%%%style front%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
        \fancypagestyle{front}{%
                \fancyhf{}%on vide l'en-tête
                \fancyfoot[C]{\thepage}%
                \renewcommand{\headrulewidth}{0pt}%trait horizontal pour l'en-tête
                \renewcommand{\footrulewidth}{0pt}%trait horizontal pour le pied de page
                }
%\renewcommand{\chaptermark}[1]{%
%\markboth{\MakeUppercase{%
%\chaptername}\ \thechapter.%
%\ #1}{}}
%%%%%%%%%%%%%%%%%%%style main%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \fancypagestyle{main}{%
                \fancyhf{}
                \renewcommand{\headrulewidth}{0pt}%trait horizontal pour l'en-tête
                \renewcommand{\footrulewidth}{0pt}%trait horizontal pour le pied de pages
                \renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter.\ ##1}{}}% redéfinition pour avoir ici les titres des chapitres des sections en minuscules
                \renewcommand{\sectionmark}[1]{\markright{\thesection\ ##1}}
                \fancyhead[C, RE, LO]{}
                \fancyhead[LE]{\rightmark}%
                \fancyhead[RO]{\leftmark}
                \fancyfoot[C]{}
                \fancyfoot[RO,LE]{\thepage}%
                \fancyfoot[LO,RE]{}
                }
%%%%%%%%%%%%%%%%%%%style back%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
        \fancypagestyle{back}{%
                \fancyhf{}%on vide l'en-tête
                \fancyfoot[C]{\thepage}%
                \renewcommand{\headrulewidth}{0pt}%trait horizontal pour l'en-tête
                \renewcommand{\footrulewidth}{0pt}%trait horizontal pour le pied de pages
                }

\newcommand{\gloss}[1]{{\sl \glssymbol{#1}}}
\newcommand{\Gloss}[1]{{\sl \Glssymbol{#1}}}

\input{misc/glossary}

\makeglossaries
